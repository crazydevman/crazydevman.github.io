<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Scavenger Hunt</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 15px;
            background-color: #f8f9fa;
            color: #333;
            width: fit-content;
            height: fit-content;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;

            text-align: center;
        }

        h2 {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .lead {
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .story {
            font-style: italic;
        }

        .clue {
            font-weight: bold;
        }

        .cheatstyle {
            color: red;
            font-weight: bold;
        }

    </style>
</head>

<body>
    <div class="container">
        <h2>Luke and Sam's Scavenger Hunt</h2>
        <div class="lead cheatstyle" id="cheatnote">
            <p>You've scanned the wrong QR code, find the one that matches the clue!</p>
        </div>
        <div class="lead" id="page1">
            <p>This Scavenger Hunt is based on the Christmas poem "Twas The Night Before Christmas" You will be given clues to find QR codes scattered around the house. The first clue will lead you to a QR to scan, and get the next code.</p>
            <p class="story">"Twas the night before Christmas, when all through the house
                Not a creature was stirring, not even a mouse;
                The stockings were hung by the chimney with care,
                In hopes that St. Nicholas soon would be there;". 
            </p>
            <p class="clue">Try looking around the stockings, perhaps theres a clue there?</p>
        </div>
        <div class="lead" id="page2">
            <p>Congrats! You have made it to the second clue. </p>
            <p class="story">"The children were nestled all snug in their beds;
                While visions of sugar-plums danced in their heads;
                And mamma in her 'kerchief, and I in my cap,
                Had just settled our brains for a long winter's nap".
            </p>
            <p class="clue">Where do you take your naps? </p>
        </div>
        <div class="lead" id="page3">
            <p>Your on the right track! Here is the next clue: </p>
            <p class="story">"When out on the lawn there arose such a clatter,
                I sprang from my bed to see what was the matter.
                Away to the window I flew like a flash,
                Tore open the shutters and threw up the sash."
            </p>
            <p class="clue">In a flash, Look for the piece of glass</p>
        </div>
        <div class="lead" id="page4">
            <p> Nice work! The next clue is:</p>
            <p class="story">"The moon on the breast of the new-fallen snow,
                Gave a lustre of midday to objects below,
                When what to my wondering eyes did appear,
                But a miniature sleigh and eight tiny rein-deer,".
            </p>
            <p class="clue"> Near the back porch, the next clue lays here</p>
        </div>
        <div class="lead" id="page5">
            <p> Outstanding! The next clue is:</p>
            <p class="story">"With a little old driver so lively and quick,
                I knew in a moment he must be St. Nick.
                More rapid than eagles his coursers they came,
                And he whistled, and shouted, and called them by name:
                "Now, Dasher! now, Dancer! now Prancer and Vixen!
                On, Comet! on, Cupid! on, Donder and Blitzen!". 
                </p>
                <p class="clue">Look for the plate where all the reindeer's names are written.</p>
        </div>
        <div class="lead" id="page6">
            <p> Good job! The next clue is:</p>
            <p class="story">"To the top of the porch! to the top of the wall!
                Now dash away! dash away! dash away all!"
                As leaves that before the wild hurricane fly,
                When they meet with an obstacle, mount to the sky;
                So up to the housetop the coursers they flew
                With the sleigh full of toys, and St. Nicholas too—". 
            </p>
            <p class="clue">The bins of toys you should review, In order to find your next clue.</p>
        </div>
        <div class="lead" id="page7">
            <p> Keep up the hard work! The next clue is:</p>
            <p class="story">"And then, in a twinkling, I heard on the roof
                The prancing and pawing of each little hoof.
                As I drew in my head, and was turning around,
                Down the chimney St. Nicholas came with a bound.". 
            </p>
            <p class="clue">The next clue is close to the chimney you will have found, behind the House Rules of Christmas (which are quite renowned).</p>
        </div>
        <div class="lead" id="page8">
            <p> You almost got it! The next clue is:</p>
            <p class="story">"He was dressed all in fur, from his head to his foot,
                And his clothes were all tarnished with ashes and soot;
                A bundle of toys he had flung on his back,
                And he looked like a pedler just opening his pack.
                His eyes—how they twinkled! his dimples, how merry!
                His cheeks were like roses, his nose like a cherry!
                His droll little mouth was drawn up like a bow,
                And the beard on his chin was as white as the snow;
                The stump of a pipe he held tight in his teeth,
                And the smoke, it encircled his head like a wreath;
                He had a broad face and a little round belly
                That shook when he laughed, like a bowl full of jelly.
                He was chubby and plump, a right jolly old elf,
                And I laughed when I saw him, in spite of myself;
                A wink of his eye and a twist of his head
                Soon gave me to know I had nothing to dread;
                He spoke not a word, but went straight to his work,
                And filled all the stockings; then turned with a jerk,
                And laying his finger aside of his nose,
                And giving a nod, up the chimney he rose;
                He sprang to his sleigh, to his team gave a whistle,
                And away they all flew like the down of a thistle.
                But I heard him exclaim, ere he drove out of sight—
                “Happy Christmas to all, and to all a good night!”". 
                </p>
                <p class="clue">to your delight you shall find, your final prize. Hidden away, a treasure lays in a wooden basket under the things that keep you warm.</p>
        </div>
    </div>
    <script>
        let oldPage = parseInt(localStorage.getItem("page"));
        console.log("The last page they were on was page " + oldPage);
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        let page = urlParams.get('page')
        if (page == null) {
            page = 1;
        }
        page = parseInt(page);

        // Hide the "you're cheating section"
        document.getElementById("cheatnote").style.display="none";

        if (page > oldPage + 1) {
            console.log("You're cheating!");
            page = oldPage;
            document.getElementById("cheatnote").style.display="block";
        }

        console.log("You are on page: " + page);
        localStorage.setItem("page", page);

        for (let i = 1; i <= 8; i++) {
            document.getElementById("page" + i).style.display="none";
        }
        document.getElementById("page" + page).style.display="block";
    </script>
</body>

</html>